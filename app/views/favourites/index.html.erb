<%= render "nav_bar" %>

<body id="top">

<section class="hero" id="hero">
    <div class="container">

        <div class="row" id="articles-page-content">
            <div class="col-lg-12">
                <h1 class="animated fadeInDown" align="center">Favourites</h1>
                <br /><br /><br />
            </div>

            <h3 align="center"><%= @user.fname %>'s fave trends</h3>
            
            <br />
            <br />
        <!-- If there are not favourites, display the following: -->
            <% if @favourite == [] %>
                <h5 align="center">You have no favourites! Explore and add some.</h5>
                <br />
                <br />
                <div align="center"><%= image_tag ("dancing_heart.gif") %></div>
        </div>

            <% else %>

        <!-- If there are fashion favourites, display the following: -->
            <% if @favourite.include?(@favourite.find_by(category: "wfashion") || @favourite.find_by(category: "mfashion")) %>
                <h2 align="center">Fashion Trends</h2>
            <% end %>

            <div id="masonry-grid">
                <% @favourite.each do |favourite| %>
                    <% if (favourite.user_id == current_user.id) && (favourite.category == "wfashion" || favourite.category == "mfashion") %>
                        <div class="grid-item">
                            <a class="thumbnail" href="<%= favourite.url %>" target="_blank">
                                <img class="img-responsive" src="<%= favourite.image %>" alt="">
                            </a>
                            <h4 style="color:black"><%= favourite.title %></h4>
                            <h4>Source: <%= favourite.source %></h4>
                            <% if current_user %>
                                <a><h4><%= link_to "Delete", user_favourite_path(favourite, :id => favourite.id), method: :delete %></h4></a>
                            <% end %>
                        </div>
                    <% end %>
                <% end %>
            </div>

        <br />
        <br />

        <!-- If there are food favourites, display the following: -->
            <% if @favourite.include?(@favourite.find_by(category: "food")) %>
                <h2 align="center">Food Trends</h2>
            <% end %>

            <div id="masonry-grid">
                <% @favourite.each do |favourite| %>
                    <% if (favourite.user_id == current_user.id) && (favourite.category == "food") %>
                        <div class="grid-item">
                            <a class="thumbnail" href="<%= favourite.url %>" target="blank">
                                <img class="img-responsive" src="<%= favourite.image %>" alt="">
                            </a>
                            <h4 style="color:black"><%= favourite.title %></h4>
                            <h4>Source: <%= favourite.source %></h4>
                            <% if current_user %>
                                <a><h4><%= link_to "Delete", user_favourite_path(favourite, :id => favourite.id), method: :delete %></h4></a>
                            <% end %>
                        </div>
                    <% end %>
                <% end %>
            </div>

        <% end %>

    <hr>
    </div>
</section>

</body>